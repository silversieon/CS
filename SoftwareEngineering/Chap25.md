# 📌25장 형상 관리

형상관리(Configuration Management)는 변화하는 소프트웨어 시스템을 관리하기 위한 정책, 프로세스, 도구 관련 프로세스다.

그 중 “버전 관리”는 시스템 컴포넌트들의 여러 버전들을 추적 관리하고 서로 방해받지 않도록 보장하는 것이다.

### CM 용어

- 코드라인: 소스 코드의 일련의 버전들(나중 버전들은 이전 버전들로부터 유도됨)
- 베이스라인: 컴포넌트 버전(코드라인) 모음(라이브러리, 설정 파일 등 포함)
- 메인라인: 베이스라인으로부터 개발된 일련의 시스템 버전(베이스 라인 흐름)
- 분기: 기존 코드라인의에서 생성된 새 코드라인(독립적 개발 가능)
- 합병: 다른 코드라인에 분리된 버전들을 합쳐 새 버전을 생성하는 것
- 저장소: 소프트웨어 컴포넌트의 버전들과 변경에 관한 메타 정보를 포함한 데이터베이스
- 작업공간: 다른 개발자에게 영향을 미치지 않고 소프트웨어를 변경할 수 있는 곳

### 버전 관리

시스템의 여러 버전들을 추적 관리하는 프로세스로 코드라인과 베이스라인을 관리한다.

**일련의 코드 라인과 관련 설정·라이브러리로부터 베이스라인이 형성된다.** 베이스라인의 일련의 흐름을 메인라인이라고 부른다.

이런 코드라인, 베이스라인 등을 만들기 위해서 branch를 사용해 독립적으로 개발하며, 변경사항을 적용하여 새 버전을 만들기 위해서 merge 과정을 거친다.

버전 관리 시스템은 각 버전의 완전한 내용을 유지하는 대신에 버전 사이의 차이들인 델타를 저장하고 관리한다.

델타들은 보통 벼경된 라인들의 목록으로 저장된다.(적용시 시간이 걸림)

### 중앙집중 시스템 vs 분산 VC 시스템

> 중앙집중 시스템
>

하나의 마스터 저장소가 개발 중인 소프트웨어 컴포넌트의 모든 버전들을 유지한다.

개발자는 컴포넌트 수정시 저장소에서 자신의 작업 공간으로 “체크아웃”하고, 변경 작업 완료시 변경된 컴포넌트를 저장소로 “체크인”한다.

만약 어떤 컴포넌트가 체크아웃이 되었으면 해당 컴포넌트에 대해 체크아웃을 원하는 다른 사용자에게 이미 누군가에 의해 체크아웃 되었다는 경고를하여 관리한다.

> 분산 VC 시스템(Git)
>

필요한 파일들을 단순히 체크아웃하는 것 대신에 개발자는 프로젝트 저장소의 복제본을 생성하여 자신의 컴퓨터에 설치한다.

컴포넌트 변경 완료시 “commit”을 통해 개인 저장소에 반영하고, 변경들이 모아지면 저장소에 반영되도록 “push”를 한다. 프로젝트 저장소로부터 가져올 때는 “pull”을한다.